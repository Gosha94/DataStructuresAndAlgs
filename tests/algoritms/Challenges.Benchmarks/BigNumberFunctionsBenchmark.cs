using Challenges.math_funcs;
using BenchmarkDotNet.Attributes;

namespace Challenges.Benchmarks;

[RankColumn]
[MemoryDiagnoser]
public class BigNumberFunctionsBenchmark
{
    private const string CORRECT_BIG_NUMBER = "123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134123213214143141341232132141431413412321321414314134";
    private const string WRONG_BIG_NUMBER = "abc888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898888888834358988888888343589888888883435898";

    [Benchmark]
    public void SumTwoBigNumbers_WithSuccess()
    {
        string result = BigNumberFunctions.SumTwoBigNumbers(CORRECT_BIG_NUMBER, CORRECT_BIG_NUMBER);
    }

    [Benchmark]
    public void SumTwoBigNumbers_WithError()
    {
        string result = BigNumberFunctions.SumTwoBigNumbers(CORRECT_BIG_NUMBER, WRONG_BIG_NUMBER);
    }

    [Benchmark]
    public void SumTwoBigNumbers_v2_WithSuccess()
    {
        string result = (new BigNumber(CORRECT_BIG_NUMBER) + new BigNumber(CORRECT_BIG_NUMBER)).ToString();
    }

}